<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Bioplib: Compiling BiopLib</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Bioplib
   </div>
   <div id="projectbrief">Protein Structure C Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Compiling BiopLib </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Bioplib - Compiling and Installing the BiopLib Library</p>
<h2>Installation on UNIX systems </h2>
<h3>(1) Create sub-directories of your main directory called include and lib:</h3>
<pre class="fragment">     mkdir ~/include
     mkdir ~/include/bioplib
     mkdir ~/lib
</pre><h3>(2) Unpack the distribution file:</h3>
<p>If you have downloaded a gzipped tar file: </p>
<pre class="fragment">        zcat bioplib-X.Y.tar.gz | tar -xvf -
     -or-
        gunzip bioplib-X.Y.tar.gz
        tar -xvf bioplib-X.Y.tar
     -or- (if you have Gnu tar)
        tar -zxvf bioplib-X.Y.tar.gz
</pre><p>(where X.Y is the major and minor version numbers - e.g. 3.0)</p>
<p>If you have downloaded a ZIP file: </p>
<pre class="fragment">     unzip bioplib-X.Y.zip
</pre><h3>(3) This will create a directory called bioplib-X.Y.</h3>
<p>Enter this directory and then go into the src sub-directory: </p>
<pre class="fragment">     cd bioplib-X.Y/src
</pre><p>Modify the Makefile as required for your system. If you are using the GNU C compiler and have followed the directions above, no changes should be needed. If you have chosen alternative locations for the include and library directories then you will need to change LIBDEST to be the library directory you have created and INCDEST to the include directory you have created (N.B. the complete path is required, you can't do ~/lib).</p>
<h3>(4) To build the libraries, type:</h3>
<pre class="fragment">     make 
</pre><p>The compilation should complete with no errors or warnings except for implicit declarations of <a class="el" href="openorpipe_8c.html#af78772fbd79937a93ce4a787b011a520">popen()</a> in <a class="el" href="_read_p_d_b_8c.html" title="Read coordinates from a PDB file. ">ReadPDB.c</a> and WholePDB.c This is because <a class="el" href="openorpipe_8c.html#af78772fbd79937a93ce4a787b011a520">popen()</a> is not an ANSI C function and the -ansi flag causes this to be a warning.</p>
<h3>(5) Install the libraries and the include files:</h3>
<pre class="fragment">     make install
</pre><h3>(6) Build the documentation:</h3>
<pre class="fragment">     make doxygen
</pre><p>This uses Doxygen (www.doxygen.org) and exploits the markdown format which is supported by version 1.8.0 (or later) of Doxygen.</p>
<p>The resulting documentation will be found in the doc/html sub-directory of bioplib-X.Y</p>
<h3>(7) To remove the object files and local copies of the libraries:</h3>
<pre class="fragment">     make clean
</pre><h3>(8) To remove the documentation:</h3>
<pre class="fragment">     make doxyclean
</pre><h3>(9) Set up aliases</h3>
<p>If you are using a shell which supports aliases, set up an alias for the cc command to add the include directory to the include search path and the lib directory to the lib search path. Using the BASH shell and assuming you have installed the libraries and include files in the default location, the following will work: </p>
<pre class="fragment">     alias cc '/bin/cc -I$HOME/include -L$HOME/lib'
</pre><p>If you have chosen an alternative location to install the libraries and include files, you will need to change the paths for include and lib.</p>
<p>You can then compile a program using the command: </p>
<pre class="fragment">     cc -o foo foo.c -lbiop -lgen -lm
</pre><p>Note that -lbiop must appear before -lgen</p>
<p>If support for reading and writing pdbml-formatted files is required then the program must be linked to the libxml2 library. Compile using the command: </p>
<pre class="fragment">     cc -o foo foo.c -lbiop -lgen -lm -lxml2
</pre><p>It is good practice to add flags to enforce the strict ANSI C standard at the same time (-Wall -ansi -pedantic for GCC or -ansi -fullwarn on an SGI).</p>
<h3>(10) Using Makefiles</h3>
<p>If building a project using a Makefile, then you will need to include -I$HOME/include -L$HOME/lib in your CFLAGS and remember to include the libraries (-lbiop -lgen and maybe -lm or -lxml2) at the end of your link command.</p>
<h3>(11) Include the header files</h3>
<p>To access the C library functions you will need to include appropriate header files. For example: </p>
<pre class="fragment">     #include "bioplib/pdb.h"
</pre><h2>Makefile Options </h2>
<p>Various options for compiling the BiopLib library are available by editing the Makefile in the src directory.</p>
<p><em>PDBML Format</em></p>
<p>BiopLib uses the libxml2 library for parsing and output of PDBML-format files.</p>
<p>Libxml2 may already be installed on your system. For instance, it is part of the standard installation on the Apple OS X operating system.</p>
<p>If the libxml2 library is not installed, then instructions for downloading and installing the libxml2 library are available at the libxml2 website: <a href="http://xmlsoft.org">http://xmlsoft.org</a></p>
<p>By default, BiopLib is configured with support for PDBML-formatted files. If you don't need this then comment out the following line in the Makefile: </p>
<pre class="fragment">     COPT := $(COPT) -D XML_SUPPORT $(shell xml2-config --cflags)
</pre><p>The compiler directive XML_SUPPORT is used as a switch to compile the code in BiopLib for reading and writing pdbml files. The program xml2-config is part of the libxml2 installation and ensures the libxml2 include file is in the search path (-I option).</p>
<p>Use either "-lxml2" or "$(shell xml2-config --libs)" to link a program to the libxml2 library.</p>
<p><em>Install Location</em></p>
<p>The default location for installing BiopLib is in the user's home directory. This location can be changed to install in another location. For example, to install in the /usr/local/include and /usr/local/lib directories, change the install location by editing the following lines in the Makefile: </p>
<pre class="fragment">     LIBDEST = ${HOME}/lib
     INCDEST = ${HOME}/include
     SHAREDLIBDEST = ${HOME}/lib
</pre><p>to </p>
<pre class="fragment">     LIBDEST = /usr/local/lib
     INCDEST = /usr/local/include
     SHAREDLIBDEST = /usr/local/lib
</pre><p><em>Deprecated Functions</em></p>
<p>In 2014 almost all of the the functions in the BiopLib library had the prefix bl added to the function name (e.g. ReadPDB() became <a class="el" href="pdb_8h.html#a4027e61f67886772894d7a948a3be2c0">blReadPDB()</a>) to provide a consistent naming scheme. In addition, functions that expected a single character for the chain name were updated to take a string.</p>
<p>Programs using the older function names will compile however, a warning message will be generated if the function is called by a program. The default option is to display a warning message unless the environment variable, BIOPLIB_DEPRECATED_QUIET is set.</p>
<p>There are also options for handling error messages are also set within the Makefile. Uncommenting one of the following lines will either always display a warning message or silence the warning message: </p>
<pre class="fragment">     #COPT := $(COPT) -D BIOPLIB_DEPRECATED_CHECK
     #COPT := $(COPT) -D BIOPLIB_DEPRECATED_QUIET
</pre><p>Note that deprecated functions will be removed in V4.0, so if you have programs that use the old functions, start changing them now!</p>
<p>To obtain a warning of the use of deprecated BiopLib functions at compile time, you can define the value NODEPRECATION when you compile your code. This prevents the deprecated function header files from being read and with -Wall (GCC) or -fullwarn (Irix) will cause warnings about undefined functions. For example: </p>
<pre class="fragment">     cc -Wall -D NODEPRECATION -o myprogram myprogram.c -lbiop -lgen -lm -lxml2
</pre><h2>Windows Installation </h2>
<p><em>MinGW and MSYS</em></p>
<p>The BiopLib library will compile on Microsoft Windows systems. We compiled BiopLib on Windows 7 using the the MinGW (Minimalist GNU for Windows) and MSYS (Minimalist System) packages which are available from www.mingw.org.</p>
<p>MinGW and MSYS can be installed by downloading the MinGW installer executable and using it to install MinGW and MSYS. MinGW provides a port of the GCC compiler and MSYS creates a unix-like environment and filesystem on the Windows machine and provides a unix-like terminal.</p>
<p><em>Installing the Libxml2 and Check Libraries</em></p>
<p>The Libxml2 library is required to read pdbml-formatted files. The Check library is required only if unit tests are to be run. Libxml2 can be downloaded from xmlsoft.org and Check can be downloaded from check.sourceforge.net.</p>
<p>To compile and install either the libxml2 or check library from source, unpack the source files and use './configure', 'make', and 'make install' from within the MSYS shell (NOT the cmd window). When running a program that uses a user-installed library, the dynamically-linked library file needs to be in the PATH. The path can be set from the cmd window command line or from the control panel in MS Windows. Setting a user's path from the control panel is preferable</p>
<ul>
<li>it only has to be done once and compiled programs can be launched by double-clicking on the executable from the Windows file browser.</li>
</ul>
<p><em>Installing BiopLib</em></p>
<p>To install BiopLib, follow the commands for installing on unix like systems from within the MSYS terminal.</p>
<p>BiopLib can also be compiled form within the cmd window using mingw32-make however the makefile will have to be altered to give the location of the libxml2 library include files explicitly (e.g. -I C:\1.0)</p>
<p><em>Unit Tests</em></p>
<p>Unit tests were added for newly installed features from 2014. Unit tests use the Check library which can be installed from check.sourceforge.net.</p>
<p>Unit tests are in the src/TEST subdirectory. To run tests first compile BiopLib from within the src directory with ‘make’ and then compile the unit tests from within the src/TEST directory with ‘make’ to create an executable file, run_tests. Tests can be run by typing either ‘./run_tests’ or ‘./run_tests -v’ for verbose output.</p>
<p>Note: If unit tests are run under MS windows then the unit tests must be run from within a MSYS terminal as the tests for writing PDB files require the unix ‘dos2unix’ and ‘cmp’ commands. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 19 2021 06:58:47 for Bioplib by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
